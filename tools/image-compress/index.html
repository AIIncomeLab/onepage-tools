<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>在线图片压缩</title>
<meta name="description" content="浏览器本地压缩 JPG/PNG/WebP，保护隐私，支持质量可调。">
<link rel="stylesheet" href="/assets/styles.css">
<script src="https://unpkg.com/compressorjs@1.2.1/dist/compressor.min.js"></script>
</head>
<body>
<header class="container"><h1>在线图片压缩</h1><div class="ad">ADSENSE_TOP</div></header>
<main class="container card">
<label>选择图片：</label>
<input class="input" type="file" id="img" accept="image/*">
<label>质量（0.3~0.9）：</label>
<input class="input" type="number" id="q" value="0.7" min="0.1" max="1" step="0.1">
<button class="btn" id="run">压缩并下载</button>
<div id="preview" style="margin-top:12px"></div>
</main>
<footer class="container"><hr>© <span id="y"></span> · <a href="/">更多工具</a></footer>
<script>document.getElementById('y').textContent=new Date().getFullYear()</script>
<script>
const $=s=>document.querySelector(s);
$('#run').onclick=()=>{
const file=$('#img').files[0]; if(!file) return alert('请选择图片');
const quality=parseFloat($('#q').value)||0.7;
new Compressor(file,{quality,success(result){
const url=URL.createObjectURL(result);
$('#preview').innerHTML=`<img src="${url}" style="max-width:100%;border-radius:12px"><br><a class='btn' download='compressed.jpg' href='${url}'>下载压缩图</a>`;
}});
};
</script>
</body>
</html>